<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tài khoản của tôi</title>
    <link th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{/fontawesome/css/all.min.css}" rel="stylesheet"/>
    <link th:href="@{/css/main.css}" rel="stylesheet"/>
</head>
<body>

<div th:replace="fragments/header :: header"></div>

<div class="container mt-content col-md-6">
    <h3 class="mb-4">Thông tin tài khoản</h3>

    <form th:action="@{/account/update}" method="post" th:object="${user}">
        <input type="hidden" th:field="*{id}"/>

        <!-- Email -->
        <div class="mb-3">
            <label>Email</label>
            <input type="email" th:field="*{email}" class="form-control" required>
        </div>

        <!-- Họ tên -->
        <div class="mb-3">
            <label>Họ</label>
            <input type="text" th:field="*{firstName}" class="form-control" required>
        </div>
        <div class="mb-3">
            <label>Tên</label>
            <input type="text" th:field="*{lastName}" class="form-control" required>
        </div>

        <hr>
        <h5>Đổi mật khẩu</h5>
        <div class="mb-3">
            <label>Mật khẩu hiện tại</label>
            <input type="password" name="oldPassword"
                   class="form-control"
                   autocomplete="new-password"
                   placeholder="Nhập mật khẩu hiện tại">
        </div>
        <div class="mb-3">
            <label>Mật khẩu mới</label>
            <input type="password" name="newPassword" class="form-control">
        </div>
        <div class="mb-3">
            <label>Nhập lại mật khẩu mới</label>
            <input type="password" name="confirmPassword" class="form-control">
        </div>

        <div th:if="${error}" class="alert alert-danger text-center">
            [[${error}]]
        </div>

        <button class="btn btn-primary w-100">Lưu thay đổi</button>
    </form>
    <form th:action="@{/logout}" method="post" class="btn btn-danger w-100">
        <button class="dropdown-item" type="submit">Đăng xuất</button>
    </form>
</div>

<script th:src="@{/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/fontawesome/js/all.min.js}"></script>
<script th:src="@{/js/main.js}"></script>
</body>
</html>
